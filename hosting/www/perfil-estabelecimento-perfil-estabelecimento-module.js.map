{"version":3,"sources":["./src/app/perfil-estabelecimento/perfil-estabelecimento-routing.module.ts","./src/app/perfil-estabelecimento/perfil-estabelecimento.module.ts","./src/app/perfil-estabelecimento/perfil-estabelecimento.page.scss","./src/app/perfil-estabelecimento/perfil-estabelecimento.page.html","./src/app/estabelecimento/shared/estabelecimento.service.ts","./src/app/perfil-estabelecimento/perfil-estabelecimento.page.ts"],"names":[],"mappings":"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","file":"perfil-estabelecimento-perfil-estabelecimento-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { PerfilEstabelecimentoPage } from './perfil-estabelecimento.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PerfilEstabelecimentoPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class PerfilEstabelecimentoPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { PerfilEstabelecimentoPageRoutingModule } from './perfil-estabelecimento-routing.module';\n\nimport { PerfilEstabelecimentoPage } from './perfil-estabelecimento.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    PerfilEstabelecimentoPageRoutingModule\n  ],\n  declarations: [PerfilEstabelecimentoPage]\n})\nexport class PerfilEstabelecimentoPageModule {}\n","export default \".perfil-card {\\n  width: 100%;\\n  border-radius: 5px;\\n  padding: 15px;\\n  background-color: #ffffff;\\n  box-shadow: 0px 0px 7px 0px rgba(0, 0, 0, 0.29);\\n}\\n\\n.perfil-avatar {\\n  margin-left: auto;\\n  margin-right: auto;\\n  width: 100px;\\n}\\n\\n.perfil-avatar ion-avatar {\\n  height: 80px;\\n  width: 80px;\\n  margin-left: auto;\\n  margin-right: auto;\\n}\\n\\n.perfil-avatar p {\\n  text-align: center;\\n  font-size: 12px;\\n  color: #bea063;\\n  margin-top: 15px;\\n}\\n\\n.perfil-list-links {\\n  margin-top: 50px;\\n}\\n\\n.perfil-list-links .subtitle {\\n  font-size: 12px;\\n  font-weight: medium;\\n  color: #7c7b7b;\\n}\\n\\n.perfil-list-links ion-button {\\n  --background: none;\\n  --color: #7c7b7b;\\n  --color-activated: #f2f2f2;\\n  border-bottom: 1px solid #b3b3b3;\\n  --border-radius: 0px;\\n}\\n\\n.perfil-list-links ion-button span {\\n  font-family: \\\"Ubuntu\\\", sans-serif;\\n  font-weight: normal;\\n  font-size: 14px;\\n  text-align: left;\\n  width: 100%;\\n}\\n\\n.estabelecimento-list {\\n  margin-top: 25px;\\n}\\n\\n.logout-list {\\n  margin-top: 80px;\\n}\\n\\ninput[type=file] {\\n  display: none;\\n}\\n\\nion-button {\\n  --box-shadow: none;\\n}\\n\\n.md ion-button {\\n  --background-activated: #d6b46a;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3BlcmZpbC1lc3RhYmVsZWNpbWVudG8ucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBO0VBQ0UsV0FBQTtFQUNBLGtCQUFBO0VBQ0EsYUFBQTtFQUNBLHlCQUFBO0VBQ0EsK0NBQUE7QUFBRjs7QUFJQTtFQUNFLGlCQUFBO0VBQ0Esa0JBQUE7RUFDQSxZQUFBO0FBREY7O0FBRUU7RUFDRSxZQUFBO0VBQ0EsV0FBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7QUFBSjs7QUFFRTtFQUNFLGtCQUFBO0VBQ0EsZUFBQTtFQUNBLGNBQUE7RUFDQSxnQkFBQTtBQUFKOztBQUlBO0VBQ0UsZ0JBQUE7QUFERjs7QUFFRTtFQUNFLGVBQUE7RUFDQSxtQkFBQTtFQUNBLGNBQUE7QUFBSjs7QUFFRTtFQUNFLGtCQUFBO0VBQ0EsZ0JBQUE7RUFDQSwwQkFBQTtFQUNBLGdDQUFBO0VBQ0Esb0JBQUE7QUFBSjs7QUFDSTtFQUNFLGlDQUFBO0VBQ0EsbUJBQUE7RUFDQSxlQUFBO0VBQ0EsZ0JBQUE7RUFDQSxXQUFBO0FBQ047O0FBSUE7RUFDRSxnQkFBQTtBQURGOztBQUdBO0VBQ0UsZ0JBQUE7QUFBRjs7QUFJQTtFQUNFLGFBQUE7QUFERjs7QUFJQTtFQUNFLGtCQUFBO0FBREY7O0FBSUE7RUFDRSwrQkFBQTtBQURGIiwiZmlsZSI6InBlcmZpbC1lc3RhYmVsZWNpbWVudG8ucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiXG4ucGVyZmlsLWNhcmR7XG4gIHdpZHRoOiAxMDAlO1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG4gIHBhZGRpbmc6IDE1cHg7XG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmZmZmY7XG4gIGJveC1zaGFkb3c6IDBweCAwcHggN3B4IDBweCByZ2JhKDAsMCwwLDAuMjkpO1xufVxuXG5cbi5wZXJmaWwtYXZhdGFye1xuICBtYXJnaW4tbGVmdDogYXV0bztcbiAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xuICB3aWR0aDogMTAwcHg7XG4gIGlvbi1hdmF0YXJ7XG4gICAgaGVpZ2h0OiA4MHB4O1xuICAgIHdpZHRoOiA4MHB4O1xuICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xuICAgIG1hcmdpbi1yaWdodDogYXV0bztcbiAgfVxuICBwe1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBmb250LXNpemU6IDEycHg7XG4gICAgY29sb3I6ICNiZWEwNjM7XG4gICAgbWFyZ2luLXRvcDogMTVweDtcbiAgfVxufVxuXG4ucGVyZmlsLWxpc3QtbGlua3N7XG4gIG1hcmdpbi10b3A6IDUwcHg7XG4gIC5zdWJ0aXRsZXtcbiAgICBmb250LXNpemU6IDEycHg7XG4gICAgZm9udC13ZWlnaHQ6IG1lZGl1bTtcbiAgICBjb2xvcjogIzdjN2I3YlxuICB9XG4gIGlvbi1idXR0b257XG4gICAgLS1iYWNrZ3JvdW5kOiBub25lO1xuICAgIC0tY29sb3I6ICM3YzdiN2I7XG4gICAgLS1jb2xvci1hY3RpdmF0ZWQ6ICNmMmYyZjI7XG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNiM2IzYjM7XG4gICAgLS1ib3JkZXItcmFkaXVzOiAwcHg7XG4gICAgc3BhbntcbiAgICAgIGZvbnQtZmFtaWx5OiAnVWJ1bnR1Jywgc2Fucy1zZXJpZjtcbiAgICAgIGZvbnQtd2VpZ2h0OiBub3JtYWw7XG4gICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICB0ZXh0LWFsaWduOiBsZWZ0O1xuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgfVxuXG4gIH1cbn1cbi5lc3RhYmVsZWNpbWVudG8tbGlzdHtcbiAgbWFyZ2luLXRvcDogMjVweDtcbn1cbi5sb2dvdXQtbGlzdHtcbiAgbWFyZ2luLXRvcDogODBweDtcbn1cblxuXG5pbnB1dFt0eXBlPWZpbGVde1xuICBkaXNwbGF5OiBub25lO1xufVxuXG5pb24tYnV0dG9ue1xuICAtLWJveC1zaGFkb3c6IG5vbmU7XG59XG5cbi5tZCBpb24tYnV0dG9ue1xuICAtLWJhY2tncm91bmQtYWN0aXZhdGVkOiAjZDZiNDZhO1xufVxuXG5cbiJdfQ== */\";","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>perfil</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"doRefresh($event)\\\">\\n    <ion-refresher-content></ion-refresher-content>\\n  </ion-refresher>\\n  <ion-grid>\\n    <ion-row>\\n      <ion-col>\\n        <div class=\\\"perfil-card\\\">\\n          <div class=\\\"perfil-avatar\\\">\\n            <ion-avatar (click)=\\\"imagemInput.click()\\\">\\n              <img *ngIf=\\\"usuario.photoUrl\\\" src=\\\"{{usuario.photoUrl}}\\\">\\n              <img *ngIf=\\\"!usuario.photoUrl\\\" src=\\\"assets/no_profile.png\\\">\\n            </ion-avatar>\\n            <input type=\\\"file\\\" #imagemInput (change)=\\\"uploadImg($event)\\\">\\n            <p class=\\\"ion-no-margin\\\">{{usuario.name}}</p>\\n          </div>\\n\\n          <div class=\\\"perfil-list-links\\\">\\n            <h5 class=\\\"subtitle\\\">Configurações da conta</h5>\\n            <ion-button expand=\\\"block\\\" routerLink=\\\"/tabs/perfil/editar\\\">\\n              <span>\\n                Informações Pessoais\\n              </span>\\n              <ion-icon slot=\\\"end\\\"  name=\\\"person-outline\\\"></ion-icon>\\n            </ion-button>\\n<!--            <ion-button expand=\\\"block\\\">-->\\n<!--              <span>-->\\n<!--                Senha-->\\n<!--              </span>-->\\n<!--              <ion-icon slot=\\\"end\\\"  name=\\\"lock-closed-outline\\\"></ion-icon>-->\\n<!--            </ion-button>-->\\n          </div>\\n\\n          <div class=\\\"perfil-list-links estabelecimento-list\\\">\\n            <h5 class=\\\"subtitle\\\">Estabelecimento</h5>\\n            <ion-button expand=\\\"block\\\" [routerLink]=\\\"['/tabs/estabelecimento/editar/', estabelecimentoKey]\\\">\\n              <span>\\n                Informações do Estabelecimento\\n              </span>\\n              <ion-icon slot=\\\"end\\\"  name=\\\"storefront-outline\\\"></ion-icon>\\n            </ion-button>\\n<!--            <ion-button expand=\\\"block\\\" routerLink=\\\"/tabs/equipe\\\">-->\\n<!--              <span>-->\\n<!--                Equipe-->\\n<!--              </span>-->\\n<!--              <ion-icon name=\\\"people-outline\\\"></ion-icon>-->\\n<!--            </ion-button>-->\\n            <ion-button expand=\\\"block\\\" (click)=\\\"redirectMeusEstab()\\\">\\n              <span>\\n                Meus Estabelecimentos\\n              </span>\\n              <ion-icon name=\\\"grid-outline\\\"></ion-icon>\\n            </ion-button>\\n\\n\\n          </div>\\n\\n          <div class=\\\"perfil-list-links logout-list\\\">\\n            <!--            <h5 class=\\\"subtitle\\\">Estabelecimento</h5>-->\\n            <ion-button expand=\\\"block\\\" routerLink=\\\"/login\\\" (click)=\\\"logout()\\\">\\n              <span>\\n                Sair\\n              </span>\\n              <ion-icon slot=\\\"end\\\"  name=\\\"log-out-outline\\\"></ion-icon>\\n            </ion-button>\\n\\n          </div>\\n        </div>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n</ion-content>\\n\";","import { Injectable } from '@angular/core';\nimport {AngularFireDatabase} from '@angular/fire/database';\nimport {AngularFireStorage} from '@angular/fire/storage';\nimport {FirebasePath} from '../../core/shared/firebase-path';\nimport {map} from 'rxjs/operators';\nimport {UsuarioAuthService} from '../../login/shared/usuario-auth.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class EstabelecimentoService {\n\n  proprietariosUid: string;\n  proprietariosEmail: string;\n\n  constructor(\n    private db: AngularFireDatabase,\n    private storage: AngularFireStorage,\n    private usuarioService: UsuarioAuthService\n  ) {\n\n    console.log(this.usuarioService.getUser());\n    const user = this.usuarioService.getUser();\n    console.log(user);\n    // this.proprietariosUid = user.uid;\n    // this.proprietariosEmail = user.email;\n    this.loadUser();\n  }\n\n\n  async loadUser(){\n    const user = this.usuarioService.getUser();\n    this.proprietariosUid = user.uid;\n    this.proprietariosEmail = user.email;\n  }\n\n  getAll() {\n    // return this.estabelecimentosRef.snapshotChanges().pipe(\n    //   map(changes => {\n    //     return changes.map(m => ({ key: m.payload.key, ...m.payload.val() }));\n    //   })\n    // );\n\n\n    const estabelecimentosRef = this.db.list(FirebasePath.ESTABELECIMENTOS, query => query\n      .orderByChild('proprietariosUid')\n      .equalTo(this.proprietariosUid));\n\n    return estabelecimentosRef.snapshotChanges().pipe(\n      map(changes => {\n        return changes.map(m => ({ key: m.payload.key, ...m.payload.val() as {} }));\n      })\n    );\n  }\n\n  getByKey(key: string){\n    const path = `${FirebasePath.ESTABELECIMENTOS}${key}`;\n    return this.db.object(path).snapshotChanges().pipe(\n      map(change => {\n        return { key: change.payload.key, ...change.payload.val() as {} };\n      })\n    );\n  }\n\n  setEstalebelicimentoKey(token: string){\n    localStorage.setItem('estabelecimentoKey', token);\n  }\n\n  removeEstalebelicimentoKey(){\n    localStorage.removeItem('estabelecimentoKey');\n  }\n\n  getEstalebelicimentoKey(){\n    return localStorage.getItem('estabelecimentoKey');\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport {UsuarioAuthService} from '../login/shared/usuario-auth.service';\nimport {Router} from '@angular/router';\nimport {EstabelecimentoService} from '../estabelecimento/shared/estabelecimento.service';\n\n@Component({\n  selector: 'app-perfil-estabelecimento',\n  templateUrl: './perfil-estabelecimento.page.html',\n  styleUrls: ['./perfil-estabelecimento.page.scss'],\n})\nexport class PerfilEstabelecimentoPage implements OnInit {\n\n  usuario;\n  estabelecimentoKey;\n\n  constructor(\n    private usuarioAuthService: UsuarioAuthService,\n    private estabelecimentoService: EstabelecimentoService,\n    private router: Router\n  )\n  { }\n\n  ngOnInit() {\n    this.usuario = this.usuarioAuthService.getUser();\n    this.estabelecimentoKey = this.estabelecimentoService.getEstalebelicimentoKey();\n    console.log(this.usuario);\n  }\n\n  uploadImg(event: any){\n    if (event.target.files.length) {\n      this.usuarioAuthService.uploadImg(event.target.files[0])\n      const reader = new FileReader();\n      reader.onload = () => {\n        this.usuario.photoUrl = reader.result.toString();\n      };\n      reader.readAsDataURL(event.target.files[0]);\n    }\n  }\n\n  doRefresh(event) {\n    location.reload();\n    // this.ngOnInit();\n    // setTimeout(() => {\n    //   // console.log('Async operation has ended');\n    //   event.target.complete();\n    // }, 2000);\n  }\n\n  redirectMeusEstab(){\n    this.estabelecimentoService.setEstalebelicimentoKey('');\n    this.router.navigate(['/estabelecimento']);\n  }\n\n  logout(){\n    this.usuarioAuthService.logout()\n      .then(() => {\n        this.router.navigate(['/login']);\n      });\n  }\n\n}\n"],"sourceRoot":"webpack:///"}